@page "/"
@using ParagliderFlightLog.ViewModels
<PageTitle>Index</PageTitle>

<div class="container">
    <div class="row">
        <div class="col-5">
            <RadzenDataGrid AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive" AllowPaging="true" PageSize="20"
                            AllowSorting="true" Data="@mvm.FlightListViewModel" TItem="FlightViewModel"
                            SelectionMode="DataGridSelectionMode.Single" @bind-Value=@SelectedFlights>
                <Columns>
                    <RadzenDataGridColumn TItem="FlightViewModel" Property="TakeOffDateTime" Title="Date/Time" Width="150px" />
                    <RadzenDataGridColumn TItem="FlightViewModel" Property="TakeOffSiteName" Title="Site" />
                    <RadzenDataGridColumn TItem="FlightViewModel" Property="FlightDuration" Title="Duration" />
                </Columns>
            </RadzenDataGrid>
        </div>
        <div class="col-7">
            <div class="row">
                <strong>Glider:</strong> @SelectedFlights[0].GliderName
            </div>
            <div class="row">
                <strong>Max height [m]:</strong> @SelectedFlights[0].MaxHeight
            </div>
            <div class="row">
                <strong>Trace length [km]:</strong> @SelectedFlights[0].TraceLength
            </div>
            <div class="row">
                <strong>Max climb (8s) [m/s]:</strong> @SelectedFlights[0].MaxClimb
            </div>
            <div class="row">
                <strong>Max sink (8s) [m/s]:</strong> @SelectedFlights[0].MaxSink
            </div>
            <div class="row">
                <strong>Comment:</strong> @SelectedFlights[0].Comment
            </div>
        </div>
    </div>
</div>

@code{
    protected override void OnInitialized()
    {
        mvm = new MainViewModel();
    }
    MainViewModel mvm = new MainViewModel();

    IList<FlightViewModel> SelectedFlights = new List<FlightViewModel>() { new FlightViewModel() };
}
